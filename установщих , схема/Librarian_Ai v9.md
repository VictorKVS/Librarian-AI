librarian_ai/
├── auth/                               # 🔑 Авторизация и аутентификация пользователей
│   ├── jwt_handler.py                  # JWT-токены
│   ├── oauth2.py                       # OAuth2 авторизация
│   └── dependencies.py                 # Зависимости FastAPI

├── agents/                             # 🤖 Готовые агенты и цепочки действий
│   ├── factory/                        # 🏗️ Генерация шаблонных агентов
│   │   ├── agent_factory.py            # Фабрика агентов
│   │   └── chain_factory.py            # Фабрика цепочек
│   └── osint_plus/                     # 🔍 Агент сбора информации (OSINT)
│       ├── collector.py                # Сборщик данных
│       ├── enrichers.py                # Усилители данных
│       ├── exporters.py                # Экспортёры данных
│       └── agent.yaml                  # Конфиги агентов

├── api/                                # 🌐 API FastAPI приложения
│   ├── files.py                        # Эндпоинты обработки файлов
│   └── email.py                        # Сервис отправки писем (заглушка)

├── cli/                                # 💻 Командная строка (CLI)
│   └── agent_cli.py                    # Интерфейс командной строки

├── config/                             # ⚙️ Конфигурационные файлы
│   ├── config.yaml                     # Главный конфиг
│   ├── env_vars.yaml                   # Переменные среды
│   └── remote.yaml                     # Удалённые ключи API

├── core/                               # 🧠 Основное ядро системы
│   ├── document_processor.py           # 📑 Ядро обработки документов
│   ├── interfaces/                     # 📞 Адаптеры для внешних сервисов
│   │   ├── telegram_adapter.py         # Адаптер Telegram
│   │   ├── web_adapter.py              # Веб-адаптер
│   │   ├── one_c_adapter.py            # Адаптер 1C
│   │   └── q5_adapter.py               # Адаптер Q5
│   ├── tools/                          # Инструменты ядра
│   │   ├── parsers.py                  # Парсеры данных
│   │   ├── loaders.py                  # Лодеры файлов
│   │   ├── extractors.py               # Извлекатели сущностей
│   │   └── embdders.py                 # Векторизаторы
│   └── models.py                       # Внутренние модели ядра
        ├── schemas.py
        └── internal_models.py
├── db/                                 # 🗄️ Управление базой данных
│   ├── models.py                       # SQLAlchemy модели базы данных
│   └── storage.py                      # Базовая логика хранения данных

├── deploy/                             # 🚀 Развертывание и запуск
│   ├── deploy.py                       # Логика разворачивания сервиса
│   └── .env.template                   # Шаблон конфигурационных переменных

├── docs/                               # 📚 Документация
│   ├── index.md                        # Главная страница документации
│   └── architecture.md                 # Описание архитектуры

├── graph/                              # 📉 Работа с графовыми представлениями
│   └── graph_store.py                  # Хранение и манипуляции графами

├── knowledge/                          # 📚 Основы знания и долгосрочная память
│   ├── graph_cache/                    # Кэш графа знаний
│   ├── vector_store/                   # Хранение векторных представлений
│   └── long_term_memory/               # Долгосрочная память (Graph, MemoryItem)

├── llm/                                # 🤖 Модели машинного обучения и LLM
│   ├── llm_router.py                   # Маршрутизатор моделей
│   ├── local_model.py                  # Поддержка локальных моделей
│   └── providers/                      # Провайдеры моделей
│       ├── base_llm.py                 # Базовый провайдер
│       ├── openai_gpt.py               # OpenAI провайдер
│       ├── yandex_gpt.py               # Яндекс провайдер
│       └── mistral_local.py            # Локальная поддержка Mistral через Ollama

├── storage/                            # 📦 Альтернативные хранилища данных
│   └── librarian.db                    # SQLite БД

├── telegram/                           # 📲 Телеграм-бот
│   └── bot.py                          # Реализация чат-бота

├── templates/                          # 🧰 Шаблоны для генерации проектов
│   ├── main.py.tpl                     # Шаблон главного модуля
│   ├── config.yaml.tpl                 # Шаблон YAML-конфига
│   ├── base_llm.py.tpl                 # Шаблон базовой модели LLM
│   ├── loader.py.tpl                   # Шаблон загрузчика файлов
│   └── readme.md.tpl                   # Шаблон README-файла

├── tests/                              # ✅ Автоматическое тестирование
│   ├── test_llm_router.py              # Тест маршрутизации LLM
│   ├── test_extractor.py               # Тест извлекателей сущностей
│   └── test_models.py                  # Тест SQLAlchemy моделей

├── utils/                              # 🔧 Утилиты и вспомогательные инструменты
│   ├── logger.py                       # Логгер
│   ├── updater.py                      # Менеджер обновлений
│   ├── init_script.py                  # Генерирует структуру каталогов
│   ├── file_utils.py                   # Функции для работы с файлами
│   ├── ocr_cache.py                    # Кэш OCR-данных
│   ├── security.py                     # Безопасность (фильтры вирусов и MIME-типов)
│   ├── metrics.py                      # Метрики производительности
│   └── add_headers.py                  # Добавляет заголовки в Python-файлы

├── web/                                # 🌍 Web-сервер FastAPI
│   ├── dashboard.py                    # Основной сервер приложений
│   └── endpoints/                      # REST API точки входа

├── benchmark/                          # 📊 Оценочные тесты
│   ├── latency_test.py                 # Проверка задержки
│   ├── quality_score.py                # Оценка качества работы
│   └── memory_benchmark.py             # Тест потребления памяти

├── deploy_gui.py                       # 🖱️ GUI-интерфейс для развёртывания
├── docker-compose.yaml                 # 🐳 Docker-композиция (PostgreSQL, Qdrant, Redis)
├── Dockerfile.dockerfile               # 🐽 Docker-образ для контейнеризации
├── install.py                          # 🛠️ Установка и настройка проекта
├── start.sh                            # 🚀 Запуск приложения
├── pyproject.toml                     # 📦 Управляющие зависимости
├── Makefile                            # 🔁 Make команды (run, install, test)
└── README.md                           # 🧾 Главные инструкции и документация
Что было сделано?
Уточнён состав каталога core. Теперь там хранится ядро обработки документов (document_processor.py) и специализированные интерфейсы (interfaces/). Внутри интерфейсов расположены адаптеры для Telegram, веб-интерфейса, 1С и Q5.
Расширили документацию. Каталог docs/ теперь включает главную страницу (index.md) и описание общей архитектуры (architecture.md).
Добавлены утилиты. Каталог utils/ дополнен инструментами безопасности (security.py), мониторинга производительности (metrics.py), управления структурой файлов (file_utils.py) и автоматического добавления заголовков в код (add_headers.py).
Реализованы шаблоны. Каталог templates/ теперь содержит заготовленные шаблоны для генерации файлов проекта, включая главный модуль (main.py.tpl), конфиги (config.yaml.tpl), лоды (loader.py.tpl) и описания проекта (readme.md.tpl).
Обеспечили автоматизацию тестов. В каталоге tests/ появились тестовые сценарии для проверки ключевых частей системы: маршрутизации LLM, извлечений сущностей и SQLAlchemy 